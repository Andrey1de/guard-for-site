<div class="container">

    <!-- header row-->
    <div class="row-axis">
        <div class="row-title">
            {{leftTopTitle}}
        </div>
        <div class="day-axis" >
            <span class="day" *ngFor="let day of dayAxis"
                [style.width]="day.dayLenPc + '%'"> {{day.dayName}}</span>
        </div>
    </div>

     <!-- gantt chart rows-->
    <div class="gantt-chart-row" *ngFor="let row of rows; let i = index"
    >
        <div class="row-title">
            {{row.name}}
        </div>
        <div class="row-watches" >
                <!-- watch period blocks-->
                <div class="watch-period tooltip"
                 *ngFor="let watch of row.watches"
                [style.margin-left]="watch.offsetPerc +'%'"
                [style.width]="watch.lengthPerc + '%'" 
                [style.color]="watch.guardTextColor"
                [style.background]="watch.guardBackground"
                [class.free-border] = "watch.guardId === 0" 
                (click)='onWatchClick($event, watch)'
               >
                    <span class="watch-name">{{watch.Guard.name}}</span>
                    <div class="tooltip-text">
                        <div><strong>{{watch.Guard.name}}: </strong></div>
                       {{watch.beginDate |date:'d-HH:mm'}} - {{watch.endDate | date:'d-HH:mm'}}
                    </div>
            </div>
            
            <!-- watch milestones-->
            <!-- <div class="watch-milestone tooltip" 
                    *ngFor="let milestone of row.mileStones" 
                    [style.margin-left]="getEventOffsetPercentage(milestone.date)+'%'">
                    <i class="fas fa-star"></i>
                    <div class="tooltip-text">
                        <div><strong>{{milestone.name}}: </strong></div>
                       {{milestone.date | date:'mediumDate'}}
                    </div>
            </div> -->

            <!-- gantt chart grid lines-->
            <div class="grid-lines" (click)="onRowClick($event)">
                <span class="grid-line" *ngFor="let day of dayAxis"
                [style.width]="day.dayLenPc + '%'"></span>
            </div>
        </div>
    </div>
</div>

